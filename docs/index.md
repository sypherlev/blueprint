---
layout: default
title: "Blueprint Query Compiler"
---

## The Blueprint Query Compiler

Blueprint is an extended query builder that allows you to define, reuse, and override chunks of query code at will.

### Background

I found that, while building a number of large, data-driven apps, an ORM just got in the way most of the time, while a query builder meant writing lots of difficult-to-maintain, copy-pasted and possibly-insecure code. As using an ORM didn't lend itself to what I was trying to do, I started with a query builder and set about fixing those issues instead. The end result is Blueprint.

### Functionality

Blueprint's core is a fairly robust query builder that allows for most common SQL operations, and a fallback to raw SQL. Blueprint-extending classes can add multiple patterns and filters that define how to interact with the database with stored query builder commands. Transformations can be defined and applied before or after a query is run. Patterns also use their column and primary table definition as a whitelist to guard against SQL injection in the case of insert/update queries. (All queries generated by the builder use prepared statements.)

It currently supports MySQL/MariaDB, with an interface definition so that more can be added. The pattern/filter setup can only define whatever comes out of a single query, which means defining one-to-many or many-to-many relationships requires the use of a transformation after the initial query result to append more data as needed.

**Note: there is no functionality to create or modify tables, and I don't intend to add any at this time.** Blueprint assumes you have a fairly solid working knowledge of SQL already, and you've created the schema externally or you're working with a pre-existing database.

As it's purpose-built for managing and processing large blocks of complex relational data, Blueprint is not recommended for basic CRUD work. Please look at Propel or RedBean instead.
